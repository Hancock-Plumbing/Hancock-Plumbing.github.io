"use strict";(globalThis.webpackChunkpage_render_service=globalThis.webpackChunkpage_render_service||[]).push([[5938],{5938:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var s=i(4705),o=i(4612),h=i(8229),a=i(2367),r=i(4478),n=i(6163),c=i(4067),l=i(6391),g="Fill",d="Right",u="Left",p="Top",w="Bottom",A=i(3002);const B=class{constructor(e){(0,s.A)(this,"init",(()=>{this.settings=JSON.parse(this.widget.dataset.settings),this.elBg=h.A.getElement(".section_bg",this.widget),this.elBgPicture=h.A.getElement(".section_bg-img",this.widget),this.resize(),(0,c.p3)(this.widget,(e=>this.resize(e))),this.initBgHelpers(),this.initPictureHelpers()})),(0,s.A)(this,"initBgHelpers",(()=>{if(this.elBg&&this.elBgPicture){var e=null;try{e=JSON.parse(this.elBg.dataset.style)}catch(e){console.error(e)}if(e){var{loaded:t}=this.elBgPicture.dataset||{};t?h.A.updateStyle(this.elBg,e):h.A.on(this.elBgPicture,l.g,(()=>{h.A.updateStyle(this.elBg,e)}))}}})),(0,s.A)(this,"initPictureHelpers",(()=>{this.elBgPicture&&new n.A(this.elBgPicture).init()})),(0,s.A)(this,"resize",(e=>{var{itemSize:t,shapeElementsLength:i,position:s,backgroundSize:o,isLargeElemInsideBlock:a}=this.settings,n=e||(0,r.ZI)(),c=(e=>{var{shapeElementsLength:t,itemSize:i,device:s,isLargeElemInsideBlock:o}=e,h=s===A.W.TABLET,a=s===A.W.PHONE;return!!(i>=7&&i<=8&&h&&o)||!(!a&&!h||i<=8&&h||i<=4&&a)&&t>1})({shapeElementsLength:i,isLargeElemInsideBlock:a,itemSize:t,device:n});c&&s!==g?(h.A.addClass(this.widget,"shape-bg-position"),h.A.addClass(this.widget,"_".concat(s.toLowerCase()))):(h.A.removeClass(this.widget,"shape-bg-position"),h.A.removeClass(this.widget,"_".concat(s.toLowerCase())));var l=(e=>{var{position:t,backgroundSize:i,device:s,isMobileMode:o}=e,h=o&&(s===A.W.PHONE||s===A.W.TABLET),a=s===A.W.PHONE;switch(t){case u:return h?{width:"100%",height:"".concat(i>37&&a?37:i,"%")}:{width:"".concat(i,"%"),height:"100%"};case d:return h?{position:"absolute",top:"auto",bottom:"0",height:"".concat(i>37&&a?37:i,"%"),width:"100%"}:{position:"absolute",left:"auto",right:"0",width:"".concat(i,"%"),height:"100%"};case p:return{height:"".concat(i,"%"),width:"100%"};case w:return{position:"absolute",top:"auto",bottom:0,height:"".concat(i,"%"),width:"100%"};default:return null}})({position:s,backgroundSize:o,device:n,isMobileMode:c});this.elBgPicture&&l&&h.A.updateStyle(this.elBgPicture,l)})),this.widget=e}};class b extends a.A{constructor(){super(...arguments),(0,s.A)(this,"init",(()=>{var e=h.A.getCollection(this.selector);(0,o.A)(e)||e.forEach((e=>{this.widget=new B(e),this.widget.init()}))}))}}const m=b}}]);